/**
 * Events for the grading interface.
 * @module     local_asistencia/attendance_views
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 * @copyright  2024 Luis PÃ©rez <lfperezv@sena.edu.co>
 **/
define("local_asistencia/attendance_views",["jquery"],(function($){return{init:function(){function tableStickyColumns(percent){const stickyColumns=document.querySelectorAll(".sticky-column"),table=document.getElementById("attendance-table"),div=table.querySelectorAll("th.sticky-column").length,tdColumns=table.querySelectorAll("td.sticky-column").length;stickyColumns.forEach(((column,index)=>{const width=column.offsetWidth;if(column.style.width=width+"px",0==index)table.querySelectorAll("th.sticky-column")[index].style.left=0*percent+"px",table.querySelectorAll("td.sticky-column")[index].style.left=0*percent+"px",table.querySelectorAll("th.sticky-column")[index].style.backgroundColor="#f1f1f1";else if(index<div){const columnWidth=parseInt(table.querySelectorAll("th.sticky-column")[index-1].style.width.slice(0,-2)),columnLeft=parseInt(table.querySelectorAll("th.sticky-column")[index-1].style.left.slice(0,-2));table.querySelectorAll("th.sticky-column")[index].style.left=(columnWidth+columnLeft)*percent+"px",table.querySelectorAll("th.sticky-column")[index].style.backgroundColor="#f1f1f1";const leftPosition=table.querySelectorAll("th.sticky-column")[index].style.left;table.querySelectorAll("td.sticky-column")[index].style.left=leftPosition}else if(index<tdColumns){const leftPosition=table.querySelectorAll("th.sticky-column")[index%div].style.left;table.querySelectorAll("td.sticky-column")[index].style.left=leftPosition}if(index<tdColumns){const text=table.querySelectorAll("td.sticky-column")[index].outerText;table.querySelectorAll("td.sticky-column")[index].style.backgroundColor="SUSPENDIDO"===text?"#fcefdc":"ACTIVO"===text?"#def1de":"#f1f1f1"}}))}$(document).ready((function(){!function(selector,callback){const interval=setInterval((()=>{document.querySelector(selector)&&(clearInterval(interval),callback())}),100)}("#attendance-table",(function(){window.innerWidth>768?tableStickyColumns(1):tableStickyColumns(.2),window.addEventListener("resize",(function(){const mainbox=document.getElementById("region-main-box");mainbox.style.setProperty("flex","0 0 100%","important"),mainbox.style.setProperty("max-width","100%","important"),this.innerWidth<=768?tableStickyColumns(.2):tableStickyColumns(1)}))}))}))}}}));

//# sourceMappingURL=attendance_views.min.js.map