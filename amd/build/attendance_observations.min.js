/**
 * Events for the grading interface.
 * @module     local_asistencia/attendance_observations
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 * @copyright  2024 Luis PÃ©rez <lfperezv@sena.edu.co>
 **/
define(["jquery"],(function($){return{init:function(){$("body").on("change",".form-select",(function(){const selectedValue=$(this).val();const inputContainer=$(this).closest(".select-container").find(".input-container");if(selectedValue==="0"||selectedValue==="2"||selectedValue==="3"){inputContainer.show()}else if(selectedValue==="1"||selectedValue==="-"){inputContainer.hide()}checkAllSelections()}));$("body").on("input change",".input-container input",(function(){const loc=window.location.pathname.split("/");const view=loc[loc.length-1].split(".")[0];if(view=="attendance"){checkAllHours()}else if(view=="previous_attendance"){checkAllHours2()}}));$(document).ready((function(){$(".form-select").each((function(){const selectedValue=$(this).val();const inputContainer=$(this).closest(".select-container").find(".input-container");if(selectedValue==="0"||selectedValue==="2"||selectedValue==="3"){inputContainer.show()}else if(selectedValue==="1"||selectedValue==="-"){inputContainer.hide()}}));const mainbox=document.getElementById("region-main-box");mainbox.style.setProperty("flex","0 0 100%","important");mainbox.style.setProperty("max-width","100%","important");checkAllSelections();dateShower();reportDownloader()}));function checkAllHours2(){let allSelected=true;$(".form-select").each((function(){const option=$(this).val();const value=$(this).parent().children().eq(2).children().first().val();const numberValue=parseInt(value);if((numberValue<1||numberValue>10||value==="")&&option!="1"&&option!="-8"){allSelected=false;return false}}));$("#saveButton").prop("disabled",!allSelected)}function checkAllHours(){let allSelected=true;$(".form-select").each((function(){const option=$(this).val();const value=$(this).parent().children().eq(1).children().first().val();const numberValue=parseInt(value);if((numberValue<1||numberValue>10||value==="")&&option!="1"&&option!="-8"){allSelected=false;return false}}));$("#saveButton").prop("disabled",!allSelected)}function checkAllSelections(){let allSelected=true;const loc=window.location.pathname.split("/");const view=loc[loc.length-1].split(".")[0];if(view=="attendance"){checkAllHours()}else if(view=="previous_attendance"){checkAllHours2()}}$(document).ready((function(){$("#date-range-select").on("change",(function(){const selectedValue=$(this).val();const dateInputsContainer=$("#date-inputs-container");if(selectedValue==="range_dates"){dateInputsContainer.show()}else{dateInputsContainer.hide();dateInputsContainer.find("input").val("")}}))}));function dateShower(){const dateSelect=document.getElementById("date-range-select");const divRages=document.getElementById("date-inputs-container");if(dateSelect.value=="range_dates"){divRages.style.display=""}else{divRages.style.display="none"}}function reportDownloader(){const startDate=document.getElementById("start-date");const endDate=document.getElementById("end-date");const detailedDonwloader=document.getElementById("detailed_donwloader");if((new Date(endDate.value)-new Date(startDate.value))/(1e3*60*60*24)<5){detailedDonwloader.disabled=false}else{detailedDonwloader.disabled=true}}$(document).ready((function(){$("#start-date").on("change",(function(){const selectedValue=$(this).val();const finalDate=document.getElementById("end-date");finalDate.min=selectedValue}))}));$(document).ready((function(){$("#end-date").on("change",(function(){const selectedValue=$(this).val();const finalDate=document.getElementById("start-date");finalDate.max=selectedValue}))}));$(document).ready((function(){$("#confirmAtt").on("click",(function(){const courseid=document.getElementById("courseid").value;$("#course_"+courseid).submit()}))}));function adjustTableSize(){var textarea=document.querySelector('textarea[name="extrainfo[]"]');var table=document.querySelector("#attendance-table");table.style.width=textarea.offsetWidth+"px"}function tableSize(){document.querySelector('textarea[name="extrainfo[]"]').addEventListener("resize",adjustTableSize);window.onload=function(){adjustTableSize()}}checkAllSelections();dateShower();reportDownloader();tableSize()}}}));
//# sourceMappingURL=attendance_observations.min.js.map